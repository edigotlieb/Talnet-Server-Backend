<talnet type="request">
	<request type="APP" name="DELETE_APP">
		<description>
			This request deletes a new application.
		</description>
		<requestArguments>
			<requestArgument type="String" name="appName" key="appName">The name of the application to delete</requestArgument>
		</requestArguments>
		<validation>
			<existence type="AppByName" errorid="1">
				<argument id="1">{appName}</argument>
			</existence>
			<string target="{appName}" type="equals" errorid="18">
				<argument id="1">talnet</argument>
			</string>
			<credentials type="AppAdmin" errorid="6">
				<argument id="1">{appName}</argument>
			</credentials>
		</validation>
		<performance>
			<sqlExecute query="DeleteAppPermissionsByAppName">
				<argument id="1">{appName}</argument>
			</sqlExecute>
			<special query="DropAppTables">
				<argument id="1">{appName}</argument>
			</special>
			<sqlExecute query="DeleteAppTables">
				<argument id="1">{appName}</argument>
			</sqlExecute>
			<sqlExecute query="DeletePermissionUsers">
				<argument id="1">{appName}_admin</argument>
			</sqlExecute>
			<sqlExecute query="DeletePermission">
				<argument id="1">{appName}_admin</argument>
			</sqlExecute>
			<sqlExecute query="DeleteApp">
				<argument id="1">{appName}</argument>
			</sqlExecute>
		</performance>
	</request>
</talnet>