<talnet type="request">
	<request type="USER" name="REMOVE_PERMISSION">
		<description>
			this request removes a user from a given permission group
		</description>
		<requestArguments>
			<requestArgument type="String" name="userToRemoveFrom" key="username">The user to remove</requestArgument>
			<requestArgument type="String" name="groupToRemove" key="permissionGroupName">The permission group to remove from</requestArgument>
		</requestArguments>
		<validation>
			<existence type="PermissionGroupByName" errorid="11">
				<argument id="1">{groupToRemove}</argument>
			</existence>
			<string gate="not" target="{groupToRemove}" type="equals" errorid="26">
				<argument id="1">{Const:USER_PERMISSION_GROUP}</argument>
			</string>
			<existence type="UserByUsername" errorid="11">
				<argument id="1">{userToRemoveFrom}</argument>
			</existence>
			<permission gate="not" type="PermissionGroupAdmin" errorid="16">
				<argument id="1">{groupToRemove}</argument>
				<argument id="2">{userToRemoveFrom}</argument>
			</permission>
			<special type="selfOrGroupAdmin" errorid="6">
				<argument id="1">{groupToRemove}</argument>
				<argument id="2">{userToRemoveFrom}</argument>
			</special>
		</validation>
		<performance>
			<sqlExecute query="RemoveUserPermission">
				<argument id="1">{groupToRemove}</argument>
				<argument id="2">{userToRemoveFrom}</argument>
			</sqlExecute>
		</performance>
	</request>
</talnet>